<html>
<head>
	<title>Intro to Leaflet</title>
 	<!-- the Leaflet CSS -->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"/>
	<!-- the Leaflet JavaScript library -->
	<script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
  	<!-- code where we create and name the container that holds the map -->
	<div id="map" style="height: 95%"></div>
  	<!-- code where we build the map and its functionality -->
	<script>
		var mymap = L.map('map').setView([47.258, -122.465], 12);
		var basemap = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.png', {
			attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
		}).addTo(mymap);
		var point = L.marker([47.258, -122.465]).addTo(mymap);
			point.bindPopup("<b>Hello world!</b><br>I am a popup.");

      // load GeoJSON from an external file and add it to the map

$.getJSON("https://data.lime.bike/api/partners/v1/gbfs/seattle/free_bike_status.json", function(jsonData) {

const json = jsonData;

const data = GeoJSON.parse(json, {
  Point: ['latitude', 'longitude'],
  include: ['name', 'icon', 'addressFormatted']
});
L.geoJson(data).addTo(mymap);

//console.log(json)
});
  	</script>
</body>
</html>
